

<!-- First Container -->
<div class="container-fluid bg-1 text-center" style="position:relative;padding:0;">
    <div id="particles"></div>
    <div id="particles-overlay">
        <h1 class="margin">Was ist der vspace.one?</h1>
        <img src="pic/logo_vspaceone.svg" class="img-responsive img-circle margin" style="display:inline;" alt="Bird" width="350" height="350">
        <h1>Ein <i><a href="https://de.wikipedia.org/wiki/FabLab" style="color: #ffffff">Makerspace</a></i> und <i><a href="https://de.wikipedia.org/wiki/Hackerspace" style="color: #ffffff">Hackerspace</a></i>.</h1>
    </div>
</div>

<div class="container-fluid bg-3 text-left">
    <h2 class="margin">Was wir machen</h2>
    <p>
        Unser Ziel ist der Wissensaustausch sowie die Bildung aller interessierten
        in den Bereichen neuartiger computergestützter Technologien (wie zum Beispiel aber nicht ausschließlich
        3D-­Druck, CNC, Internet der Dinge und Robotik), der Elektrotechnik und Elektronik
        sowie auf dem Gebiet der Reparatur und Wartung.
        Natürlich aber auch ganz im Sinne aller anderen Hacker- und Makerspaces das bieten einer Plattform,
        um seinen Interessen in diesen Gebieten nachzugehen.
    </p>
    <br><br>
    <p class="text-center"><a href="?page=faq">Mehr Fragen zu uns und was wir machen beantworten wir hier!</a></p>
</div>

<!-- Second Container -->
<div class="container-fluid bg-2 text-left" id="Mitmachen">
    <h2 class="margin">Mitmachen</h2>
    <p>
    Bei uns kann jeder und jede mitmachen. Interessierte Schüler, Studenten und Erwachsene, die sich für kreativen Umgang mit Technik interessieren.
    Wenn euch gefällt was wir tun und ihr uns unterstützen wollt findet ihr Beitrittsformular <a href="?page=mitgliedwerden">hier</a>.
    </p>
    <br>
    <p class="text-center">
    Trag dich einfach in unsere <a href="https://lists.vspace.one/postorius/lists/public.lists.vspace.one/">Mailingliste</a> ein und bleib up-to-date.
    <br><br>
    Oder tritt unserer Telegram Gruppe bei: <a href="https://t.me/joinchat/DmNdswpnKgox_zzqENYXiA">Join</a>
    </p>
    <p>Wir treffen uns jeden Dienstag ab 19:00 Uhr im 'Space'. Schau doch einfach mal vorbei oder schreib uns auf der Mailingliste!<p>
</div>

<!-- Third Container (Grid) -->
<div class="container-fluid no-side-padding bg-3 text-center" id="Ausstattung">
    <h2 class="margin">Ausstattung</h2><br>
    <div class="row">
        <div class="col-sm-4">
        <p>Für unsere Verbindung und Vernetzung in aller Welt sorgt ein Router mit Internetzugang. Für Gäste betreiben wir einen <a href=https://freifunk.net/>Freifunk Zugangspunkt</a>.</p>
        </div>
        <div class="col-sm-4">
        <p>Für die Umsetzung cooler Projekte haben wir eine Vielzahl an Werkzeugen und Maschinen (z.B. einen 3D-Drucker). Eine aktuelle Liste gibt es im <a href="https://wiki.vspace.one">Wiki</a>.</p>
        </div>
        <div class="col-sm-4">
        <p>Wir haben zwei moderne Räume. In der Brücke stehen bequeme Sofas, ein Beamer und ein Kühlschrank. Im Maschinenraum, kann an Projekten gearbeitet werden.</p>
        </div>
        <div class="row">
        <div class="col-sm-4">
            <img src="pic/vspaceone_ausstattung_1.jpg" class="img-responsive margin" style="width:100%" alt="Maschinenraum">
        </div>
        <div class="col-sm-4">
            <img src="pic/vspaceone_ausstattung_2.jpg" class="img-responsive margin" style="width:100%" alt="vspace.one Logo">
        </div>
        <div class="col-sm-4">
            <img src="pic/vspaceone_ausstattung_3.jpg" class="img-responsive margin" style="width:100%" alt="Brücke">
        </div>
        </div>
        <div class="row">
        <div class="col-sm-4">
            <img src="pic/vspaceone_ausstattung_4.jpg" class="img-responsive margin" style="width:100%" alt="Make things awesome Logo">
        </div>
        <div class="col-sm-4">
            <img src="pic/vspaceone_ausstattung_5.jpg" class="img-responsive margin" style="width:100%" alt="Arbeitsplatz">
        </div>
        <div class="col-sm-4">
            <img src="pic/vspaceone_ausstattung_6.jpg" class="img-responsive margin" style="width:100%" alt="Lager und Projektboxen">
        </div>
        </div>
    </div>
</div>

<div class="container-fluid bg-2 text-center no-side-padding"  id="Events">
    <div class="row">
        <h2 class="margin">Events</h2>
        <div id="events">
            <!-- Is getting filled by a script loading the events.json file -->

            <div class="event">
                <div class="row">
                    <div class="col-xs-offset-1 col-xs-10 col-md-offset-2 col-md-2 no-side-padding" >
                        <div class="event_date align-middle">
                            <div class="event_day text-center">Di</div>
                            <div class="event_month text-center"></div>
                        </div>
                    </div>
                    <div class="col-xs-offset-1 col-xs-10 col-md-offset-0 col-md-6 no-side-padding" >
                        <div class="event_details">
                            <span class="event_titleline">
                            <span class="event_title">Chaostreff</span>
                            <span class="event_time">ab 19:00 Uhr</span>
                            <span class="event_icons">
                                <span class="glyphicon-calendar glyphicon"></span>
                            </span>
                            </span>
                            <span class="event_desc">
                                <p>Wir treffen uns jeden Dienstag ab 19:00 Uhr im vspace.one. Das ist der perfekte Termin, wenn du uns kennenlernen willst oder einfach mal vorbeischauen möchtest. Komm vorbei und sei willkommen! Tipp: Bring deinen Laptop mit. :)</p>
                            </span>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<div class="container-fluid text-center label-warning" id="state">
    <h2 style="margin-bottom: 2px">Raumstatus</h2>
    <br/>
    <!-- <h3 style="margin-top:2px" id="stateText">Loading</h3> -->
    <h3 style="margin-top:2px" id="stateText">Defect</h3>
</div>

<div class="container-fluid bg-2 text-center" id="Ort">
    <h2 class="margin">Wo findest du uns?</h2>
    <p>Du findest uns in der Doppelstadt Villingen-Schwenningen.</p>
    <p>Unsere Andresse lautet:<br> Wilhelm-Binder-Str. 19<br> 78048 Villingen</p><br>
    <p></p>
    <p>Wenn der vspace.one offen ist kannst du uns auch anrufen.</p>
    <p>Telefon: +49-7721-9463980</p>
    <iframe id="map-big" width="425" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://www.openstreetmap.org/export/embed.html?bbox=8.453952670097351%2C48.06383033098609%2C8.458941578865051%2C48.066199996379204&amp;layer=mapnik&amp;marker=48.06501338483433%2C8.456447124481201"
    style="border: 1px solid black"></iframe>

    <iframe id="map-medium" width="300" height="300" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://www.openstreetmap.org/export/embed.html?bbox=8.453952670097351%2C48.06383033098609%2C8.458941578865051%2C48.066199996379204&amp;layer=mapnik&amp;marker=48.06501338483433%2C8.456447124481201"
    style="border: 1px solid black"></iframe>

    <br/>
    <small>
      <a href="http://www.openstreetmap.org/?mlat=48.06501&amp;mlon=8.45645#map=18/48.06502/8.45645" style="color: #ffffff"><i>Große Karte anzeigen</i></a>
    </small>
    <!--<span class="glyphicon glyphicon-search"></span> Search -->

</div>

<script>
    var months = [
    "Jan",
    "Feb",
    "März",
    "Apr",
    "Mai",
    "Jun",
    "Jul",
    "Aug",
    "Sept",
    "Okt",
    "Nov",
    "Dez"
    ];
    Number.prototype.pad = function(size) {
        var s = String(this);
        while (s.length < (size || 2)) {s = "0" + s;}
        return s;
    }

    function appendEvent(eventModel) {
        $("#events").append(`
            <div class="event">
                <div class="row">
                    <div class="col-xs-offset-1 col-xs-10 col-md-offset-2 col-md-2 no-side-padding" >
                        <div class="event_date align-middle">
                            <div class="event_day text-center">`+(eventModel.day || "")+`</div>
                            <div class="event_month text-center">`+(eventModel.month || "")+`</div>
                        </div>
                    </div>
                    <div class="col-xs-offset-1 col-xs-10 col-md-offset-0 col-md-6 no-side-padding" >
                        <div class="event_details">
                            <span class="event_titleline">
                            <span class="event_title">`+ (eventModel.title || "") +`</span>
                            <span class="event_time">`+ (eventModel.time || "") +`</span>
                            <span class="event_icons">`+ (eventModel.link || "") + (eventModel.download || "") +`
                                <span class="glyphicon-calendar glyphicon"></span>
                            </span>
                            </span>
                            <span class="event_desc">
                                <p>`+(eventModel.trimmedDesc || "")+(eventModel.trimmed || "")+`</p>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        `);
    }

    $.getJSON("events.json",function(data){
      events = data.events

        $.each(events, function(i){
           event = events[i];
            var eventModel = {}
            var tstr

            var d = new Date(event.start);
            if(event.end){
                var dend = new Date(event.end);
                // TODO fix to working with Timezones!
                tstr = (d.getHours()-1).pad(2) + ":" + d.getMinutes().pad(2) + " bis " + (dend.getHours()-1).pad(2) + ":" + dend.getMinutes().pad(2) + " Uhr CET";
            }else{
               // TODO fix to working with Timezones!
                tstr = 'ab' + (d.getHours()-1).pad(2) + ":" + d.getMinutes().pad(2) + " Uhr CET";
            }

            eventModel.time = tstr;
            eventModel.day = d.getDate()
            eventModel.month = months[d.getMonth()]

            if (event.link){
                eventModel.link = `<a href="` + event.link + `" target="_blank" class="glyphicon-link glyphicon" style="color: black;"></a>`
            }

            if (event.download){
                eventModel.download = `<a href="` + event.download + `" target="_blank" class="glyphicon-file glyphicon" style="color: black;"></a>`
            }

            /*var trimmedDesc = event.desc.substr(0, 1000);
            if(trimmedDesc != event.desc){
                if(event.download){
                trimmed = "... <a href=\"download/" + event.download + "\">mehr</a>";
                }else{
                trimmed = "... ";
                }
                trimmedDesc = trimmedDesc.substr(0, Math.min(trimmedDesc.length, trimmedDesc.lastIndexOf(" ")))
            }else{
                trimmed = ""
            }*/

            eventModel.title = event.title

            if(event.desc){
                eventModel.trimmedDesc = event.desc;
            }else{
                eventModel.trimmedDesc = "no description!";
            }

            appendEvent(eventModel)

        });
    });
</script>

<script type="text/javascript">
    var canvasDiv = document.getElementById('particles');
    var options = {
    particleColor: '#0ac26c',
    background: '#08A059',
    interactive: false,
    speed: 'slow',
    density: 'high'
    };
    var particleCanvas = new ParticleNetwork(canvasDiv, options);
</script>
